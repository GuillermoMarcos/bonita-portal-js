<section class="CaseComments">
    <p class="CommentSection-header" translate>
        Comments on the case
    </p>

    <div class="CaseComments-content">
        <div class="CaseComments-Comment" ng-repeat="comment in vm.comments">
            <div class="CaseComments-CommentHeader text-muted">{{ comment.userId.firstname + ' ' + comment.userId.lastname }} added a comment - {{
                comment.postDate | moment:'lll' }}
            </div>
            <div class="CaseComments-CommentContent">{{ comment.content }}</div>
            <hr/>
        </div>
    </div>

    <form name="CaseCommentsForm" class="CaseComments-AddComment" ng-class="{ 'text-muted': !vm.isCurrentCaseOpened() }" ng-submit="vm.addComment(vm.newComment)">
        <div class="form-group" ng-class="{'has-error': CaseCommentsForm.$error.maxlength }">
            <label for="comment">Comment</label>
            <textarea id="comment" class="form-control"
                      ng-model="vm.newComment"
                      ng-maxlength="255"
                      ng-required="true"
                      ng-disabled="!vm.isCurrentCaseOpened()">
            </textarea>
            <span class="help-block CaseComments-AddCommentHelp" translate>Maximum size 255 characters</span>
        </div>
        <button type="submit" class="btn btn-default" ng-disabled="CaseCommentsForm.$invalid">Add</button>
        <span ng-if="!vm.isCurrentCaseOpened()" class="CaseComments-DisabledMsg" translate>The case is archived. You cannot add comment anymore</span>
    </form>
</section>
